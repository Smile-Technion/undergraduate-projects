function q = inv_kin(P,t)
l1 = 2;
l2 = 2;
x=P(1,:);
y=P(2,:);
theta1=@(x , y)  2*atan((2*l1*y - (l1^2*((- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2)*(l1^2 + 2*l1*l2 + l2^2 - x^2 - y^2))^(1/2))/(- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2) - (l2^2*((- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2)*(l1^2 + 2*l1*l2 + l2^2 - x^2 - y^2))^(1/2))/(- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2) + (x^2*((- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2)*(l1^2 + 2*l1*l2 + l2^2 - x^2 - y^2))^(1/2))/(- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2) + (y^2*((- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2)*(l1^2 + 2*l1*l2 + l2^2 - x^2 - y^2))^(1/2))/(- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2) + (2*l1*l2*((- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2)*(l1^2 + 2*l1*l2 + l2^2 - x^2 - y^2))^(1/2))/(- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2))/(l1^2 + 2*l1*x - l2^2 + x^2 + y^2));
theta2=@(x , y)  -2*atan(((- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2)*(l1^2 + 2*l1*l2 + l2^2 - x^2 - y^2))^(1/2)/(- l1^2 + 2*l1*l2 - l2^2 + x^2 + y^2));
for i=1 : length(t)
    q(1:2,i)=[theta1(x(i),y(i));theta2(x(i),y(i))];
end
end

